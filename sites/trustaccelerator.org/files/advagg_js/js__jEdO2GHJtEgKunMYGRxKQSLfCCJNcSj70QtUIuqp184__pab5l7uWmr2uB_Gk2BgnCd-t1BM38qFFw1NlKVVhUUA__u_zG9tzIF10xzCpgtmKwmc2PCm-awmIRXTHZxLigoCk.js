/* Source and licensing information for the line(s) below can be found at https://trustaccelerator.org/profiles/dkan/modules/contrib/panopoly_images/panopoly-images.js. */
(function($){Drupal.behaviors.panopolyImagesModule={attach:function(context,settings){var captions=$('.caption',context).has('img');$(captions).once('panopoly-images').imagesLoaded(function(){panopolyImagesResizeCaptionBox(captions)})
function panopolyImagesResizeCaptionBox(captions){captions.each(function(){var imageSet=$('img',this),imgBoxWidth=getImgWidth(imageSet),wrapperBoxWidth=getWrapperSpacing($('.caption-inner',this))+getWrapperSpacing($('.caption-width-container',this)),totalWidth=imgBoxWidth+wrapperBoxWidth;$(this).width(totalWidth)})}
function getImgWidth(imageSet){var imgWidth=0,imgBoxExtra=0,testWidth=0,attrWidth;for(var i=0;i<imageSet.length;i++){attrWidth=$(imageSet[i]).attr("width");if(typeof attrWidth!=='undefined'){testWidth=parseInt(attrWidth,10)}else testWidth=imageSet[i].naturalWidth;if(testWidth>imgWidth){imgWidth=testWidth;imgBoxExtra=getWrapperSpacing(imageSet[i])}};return imgWidth+imgBoxExtra}
function getWrapperSpacing(el){var spacing=['margin-left','border-left','padding-left','padding-right','border-right','margin-right'],totalPx=0,spacePx=0,spaceRaw='';for(var i=0;i<spacing.length;i++){spaceRaw=$(el).css(spacing[i]);if(spaceRaw&&spaceRaw.substr(spaceRaw.length-2)=='px'){spacePx=parseInt(spaceRaw,10);totalPx+=($.isNumeric(spacePx))?spacePx:0}};return totalPx}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://trustaccelerator.org/profiles/dkan/modules/contrib/panopoly_images/panopoly-images.js. */
(function(c,q){var m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(f){function n(){var b=c(j),a=c(h);d&&(h.length?d.reject(e,b,a):d.resolve(e));c.isFunction(f)&&f.call(g,e,b,a)}function p(b){k(b.target,"error"===b.type)}function k(b,a){b.src===m||-1!==c.inArray(b,l)||(l.push(b),a?h.push(b):j.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),r&&d.notifyWith(c(b),[a,e,c(j),c(h)]),e.length===l.length&&(setTimeout(n),e.unbind(".imagesLoaded",
p)))}var g=this,d=c.isFunction(c.Deferred)?c.Deferred():0,r=c.isFunction(d.notify),e=g.find("img").add(g.filter("img")),l=[],j=[],h=[];c.isPlainObject(f)&&c.each(f,function(b,a){if("callback"===b)f=a;else if(d)d[b](a)});e.length?e.bind("load.imagesLoaded error.imagesLoaded",p).each(function(b,a){var d=a.src,e=c.data(a,"imagesLoaded");if(e&&e.src===d)k(a,e.isBroken);else if(a.complete&&a.naturalWidth!==q)k(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=m,a.src=d}):
n();return d?d.promise(g):g}})(jQuery);
;/**/
/* Source and licensing information for the line(s) below can be found at https://trustaccelerator.org/sites/trustaccelerator.org/modules/google_analytics/googleanalytics.js. */
(function($){Drupal.googleanalytics={};$(document).ready(function(){$(document.body).bind("mousedown keyup touchstart",function(event){$(event.target).closest("a,area").each(function(){if(Drupal.googleanalytics.isInternal(this.href)){if($(this).is('.colorbox')&&(Drupal.settings.googleanalytics.trackColorbox));else if(Drupal.settings.googleanalytics.trackDownload&&Drupal.googleanalytics.isDownload(this.href)){ga("send",{hitType:"event",eventCategory:"Downloads",eventAction:Drupal.googleanalytics.getDownloadExtension(this.href).toUpperCase(),eventLabel:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"})}else if(Drupal.googleanalytics.isInternalSpecial(this.href))ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"})}else if(Drupal.settings.googleanalytics.trackMailto&&$(this).is("a[href^='mailto:'],area[href^='mailto:']")){ga("send",{hitType:"event",eventCategory:"Mails",eventAction:"Click",eventLabel:this.href.substring(7),transport:"beacon"})}else if(Drupal.settings.googleanalytics.trackOutbound&&this.href.match(/^\w+:\/\//i))if(Drupal.settings.googleanalytics.trackDomainMode!==2||(Drupal.settings.googleanalytics.trackDomainMode===2&&!Drupal.googleanalytics.isCrossDomain(this.hostname,Drupal.settings.googleanalytics.trackCrossDomains)))ga("send",{hitType:"event",eventCategory:"Outbound links",eventAction:"Click",eventLabel:this.href,transport:"beacon"})})});if(Drupal.settings.googleanalytics.trackUrlFragments)window.onhashchange=function(){ga("send",{hitType:"pageview",page:location.pathname+location.search+location.hash})};if(Drupal.settings.googleanalytics.trackColorbox)$(document).bind("cbox_complete",function(){var href=$.colorbox.element().attr("href");if(href)ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(href)})})});Drupal.googleanalytics.isCrossDomain=function(hostname,crossDomains){if(!crossDomains){return false}else return $.inArray(hostname,crossDomains)>-1?true:false};Drupal.googleanalytics.isDownload=function(url){var isDownload=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i");return isDownload.test(url)};Drupal.googleanalytics.isInternal=function(url){var isInternal=new RegExp("^(https?):\/\/"+window.location.host,"i");return isInternal.test(url)};Drupal.googleanalytics.isInternalSpecial=function(url){var isInternalSpecial=new RegExp("(\/go\/.*)$","i");return isInternalSpecial.test(url)};Drupal.googleanalytics.getPageUrl=function(url){var extractInternalUrl=new RegExp("^(https?):\/\/"+window.location.host,"i");return url.replace(extractInternalUrl,'')};Drupal.googleanalytics.getDownloadExtension=function(url){var extractDownloadextension=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i"),extension=extractDownloadextension.exec(url);return(extension===null)?'':extension[1]}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://trustaccelerator.org/sites/trustaccelerator.org/modules/google_analytics/googleanalytics.js. */
/* Source and licensing information for the line(s) below can be found at https://trustaccelerator.org/profiles/dkan/modules/contrib/field_group/field_group.js. */
(function($){Drupal.FieldGroup=Drupal.FieldGroup||{};Drupal.FieldGroup.Effects=Drupal.FieldGroup.Effects||{};Drupal.FieldGroup.groupWithfocus=null;Drupal.FieldGroup.setGroupWithfocus=function(element){element.css({display:'block'});Drupal.FieldGroup.groupWithfocus=element};Drupal.FieldGroup.Effects.processFieldset={execute:function(context,settings,type){if(type=='form')$('fieldset.fieldset',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$('legend span.fieldset-legend',$(this)).eq(0).append(' ').append($('.form-required').eq(0).clone());if($('.error',$(this)).length){$('legend span.fieldset-legend',$(this)).eq(0).addClass('error');Drupal.FieldGroup.setGroupWithfocus($(this))}})}};Drupal.FieldGroup.Effects.processAccordion={execute:function(context,settings,type){$('div.field-group-accordion-wrapper',context).once('fieldgroup-effects',function(){var wrapper=$(this),active_index=false;wrapper.find('.accordion-item').each(function(i){if($(this).hasClass('field-group-accordion-active'))active_index=i});wrapper.accordion({heightStyle:"content",active:active_index,collapsible:true,changestart:function(event,ui){if($(this).hasClass('effect-none')){ui.options.animated=false}else ui.options.animated='slide'}});if(type=='form'){var $firstErrorItem=false;wrapper.find('div.field-group-accordion-item').each(function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$('h3.ui-accordion-header a').eq(i).append(' ').append($('.form-required').eq(0).clone());if($('.error',$(this)).length){if(!$firstErrorItem)$firstErrorItem=$(this).parent().accordion("activate",i);$('h3.ui-accordion-header').eq(i).addClass('error')}});if(!$firstErrorItem)$('.ui-accordion-content-active',$firstErrorItem).css({height:'auto',width:'auto',display:'block'})}})}};Drupal.FieldGroup.Effects.processHtabs={execute:function(context,settings,type){if(type=='form')$('fieldset.horizontal-tabs-pane',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$(this).data('horizontalTab').link.find('strong:first').after($('.form-required').eq(0).clone()).after(' ');if($('.error',$(this)).length){$(this).data('horizontalTab').link.parent().addClass('error');Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data('horizontalTab').focus()}})}};Drupal.FieldGroup.Effects.processTabs={execute:function(context,settings,type){if(type=='form'){var errorFocussed=false;$('fieldset.vertical-tabs-pane',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$(this).data('verticalTab').link.find('strong:first').after($('.form-required').eq(0).clone()).after(' ');if($('.error',$(this)).length){$(this).data('verticalTab').link.parent().addClass('error');if(!errorFocussed){Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data('verticalTab').focus();errorFocussed=true}}})}}};Drupal.FieldGroup.Effects.processDiv={execute:function(context,settings,type){$('div.collapsible',context).once('fieldgroup-effects',function(){var $wrapper=$(this),$toggler=$('span.field-group-format-toggler:first',$wrapper),$link=$('<a class="field-group-format-title" href="#"></a>');$link.prepend($toggler.contents());if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$link.append(' ').append($('.form-required').eq(0).clone());$link.appendTo($toggler);$link.click(function(){var wrapper=$wrapper.get(0);if(!wrapper.animating){wrapper.animating=true;var speed=$wrapper.hasClass('speed-fast')?300:1e3;if($wrapper.hasClass('effect-none')&&$wrapper.hasClass('speed-none')){$('> .field-group-format-wrapper',wrapper).toggle()}else if($wrapper.hasClass('effect-blind')){$('> .field-group-format-wrapper',wrapper).toggle('blind',{},speed)}else $('> .field-group-format-wrapper',wrapper).toggle(speed);wrapper.animating=false};$wrapper.toggleClass('collapsed');return false})})}};Drupal.behaviors.fieldGroup={attach:function(context,settings){settings.field_group=settings.field_group||Drupal.settings.field_group;if(settings.field_group==undefined)return;$.each(Drupal.FieldGroup.Effects,function(func){var type=func.toLowerCase().replace("process","");if(settings.field_group[type]!=undefined&&$.isFunction(this.execute))this.execute(context,settings,settings.field_group[type])});$('.fieldset-wrapper .fieldset > legend').css({display:'block'});$('.vertical-tabs fieldset.fieldset').addClass('default-fallback');$('.group-wrapper .horizontal-tabs-panes > fieldset',context).once('group-wrapper-panes-processed',function(){var fieldgroupID='field_group-'+$(this).attr('id');$(this).attr('id',fieldgroupID)});$('.group-wrapper ul li').once('group-wrapper-ul-processed',function(){var fieldGroupNavigationListIndex=$(this).index();$(this).children('a').click(function(){var fieldset=$('.group-wrapper fieldset').get(fieldGroupNavigationListIndex),hashUrl=$(fieldset).attr('id').replace(/^field_group-/,'').split(' ')[0];window.location.hash=hashUrl})})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://trustaccelerator.org/profiles/dkan/modules/contrib/field_group/field_group.js. */
